## TCP/IP协议族

为了理解HTTP,我们需要先了解一下TCP/IP协议族

通常的网络就是在TCP/IP协议族的基础上运作的,但是HTTP只是它内部的一个子集

这里就作为web基础简单了解

计算机与网络设备要相互通信，双方就必须基于相同的方法.不同的硬件、操作系统之间的通信,所有的这一切方法都需要基于一种规则。而我们就把这种规则称为协议

我们这里介绍的TCP/IP协议就是互联网那个相关的各类协议族的总成

由于协议中存在各式各样的内容,从电缆的规格到IP地址的选定,异地用户的寻找和双方建立通信的顺序和web页面显示需要的步骤等等

这样吧互联网相关联的协议集合总成为TCP/ip协议

### TCP/IP的分层管理
TCP/IP协议按照层次划分为一下四层,应用层,传输层,网络层和数据链路层

>如果互联网只由一个协议统 筹，某个地方需要改变设计时，就必须把所有部分整体替换掉。而分层 之后只需把变动的层替换掉即可


把各层之间的接口设计好之后,各个层次内部的设计就能自由改动了
### 应用层
决定了用户提供应用服务时通信的活动

TCP/IP 协议族内预存了各类通用的应用服务.比如FTP文件传输协议,DNS域名系统

HTTP协议也处于这一层
### 传输层
传输层对上层应用层,提供处于网络连接中的两台计算机之间的数据传输
在传输层中又两个性质不同的协议,TCP(传输控制协议)和UDP(用户数据报协议)
### 网络层
处理在网络上流动的数据包,数据包是网络传输的最小数据单位,规定了通过怎样的路径和传输路线到达对方计算机并且把数据包传送给对方

和计算机之间的多态计算机或者网络设备进行传输时,网络层的作用就是在众多的选择中选择一条传输路线

### 链路层
又叫数据链路层,网络接口层

用来处理链接网络的硬件部分,包括控制操作系统,硬件设备,网卡等物理课件部分,硬件上的范畴均在链路层的作用范围之内

### 通信传输流

我们作为客户端在应用层发出一个想看某个web页面的HTTP请求

为了传输方便,在TCP协议上把应用层收到的数据进行分割,并且在各个报文上打上标记需要以及端口号之后转发给网络层

网络层IP协议增加作为通信目的地的MAC地址之后转发给链路层,这样发往网络的通信请求就准备齐全了

接收端的服务器在链路层一般接受到数据,按照顺序网上发送,一直到应用层,算是服务器接收到客户端发送过来的HTTP请求了

![](HTTP/attachments/Pasted%20image%2020250121182257.png)
## TCP,IP,DNS协议
这三个协议是TCP/IP协议族中和HTTP密不可分的三个协议
### IP

TCP/IP协议族中的IP指的就是网 际协议，协议名称中占据了一半位置，其重要性可见一斑

IP是协议的一种名称,和IP地址不是一个东西

IP协议的作用就是把各种数据包传输给对方,并且保证其确实接收到了这些信息

为了保证确实传输成功,需要满足各种条件
1. IP地址
2. MAC地址
ip地址指明了节点被分配到的地址,mac地址指的是网卡所属的固定地址

IP地址可以和MAC地址想哦诶对,IP地址可变换,但是MAC地址基本不会更改

#### 使用ARP协议凭借MAC地址通信

IP之间的通信依赖MAC地址,

在网络上通信的双方一般是通过多台计算机设备中转才能连接到对方,在中转时,会利用下一中转设备的MAC地址来搜索下一个中转目标,此时会采用ARP协议(地址解决公约),**arp是一种用来解析地址的协议,根据通信方的IP地址就可以反查出对应的MAC地址**

>没有人能够全面掌握互联网中的传输状况

在到达通信目标前的中转过程中，那些计算机和路由器等网络设备 只能获悉很粗略的传输路线。这种机制称为路由选择（routing），有点像快递公司的送货过程。 想要寄快递的人，只要将自己的货物送到集散中心，就可以知道快递公司是否肯收件发货，该快递公司的集散中心检查货物的送达地址，明确 下站该送往哪个区域的集散中心。接着，那个区域的集散中心自会判断是否能送到对方的家中。通过这个比喻说明，无论哪台计算机、哪台网络设备，它们都无法全面掌握互联网中的细节
### TCP协议

TCP协议位于传输层,提供给可靠的字节楼服务
字节流服务就是把大块数据以报文段为单位可靠地传给对方,为了更加容易传送大数据才把数据分割

而且能确认数据是否传输送达对方
#### 三次握手
1. TCP把数据包送出去之后,TCP不会对传送后的情况置之不理,会确认对方是否成功送达,此时握手出现了TCP的表示,SYN(synchronize)和ACK(acknowledgement)
2. 发送端发送一个带SYN标志的数据包给对方,接受端收到之后回传一个SYN/ACK标志的数据包意识确认信息,最后发送端回传一个ACK包确认握手结束
3. 如果某次握手中断,则TCP协议会以相同的顺序发送相同的数据包

### DNS:域名解析

DNS服务和HTTP一样唯一应用层,提供域名到IP地址之间的解析服务

计算机可以被赋予IP地址,也可以被赋予主机名和域名

IP地址是一串纯数字,但是主机名和域名则一般是字母方便记忆

DNS服务就是把字母转化为纯数字的IP地址给计算机访问.或者逆向从IP地址反查域名的服务(从纯数字到字母)

## 各种协议和HTTP的关系
![](HTTP/attachments/Pasted%20image%2020250121185157.png)
## URI
URI:统一资源标识符
采用HTTP协议时，协议方案就是http。除此之外，还有ftp、 mailto、telnet、file 等。标准的 URI 协议方案有30种左右

URL:统一资源定位符
URL就是web浏览器访问web页面时需要输入的网页地址

URI 用字符串标识某一互联网资源，而URL表示资源的地点（互 联网上所处的位置）。可见URL是URI的子集

### 绝对URI格式
![](HTTP/attachments/Pasted%20image%2020250121184840.png)

其中服务器地址有很多种,可以是类似`hackr.jp`这种`DNS`可解析的名称,或是`192.168.1.1`这类`IPv4`地址名,还可以是`[0:0:0:0:0:0:0:1]`这样用方括号括起来的IPv6地址名.

- 服务器端口号:指定服务器连接的网络端口号。此项也是可选项，若用户省略则自动使用默认端口号.
- 带层次的文件路径:指定服务器上的文件路径来定位特指的资源。这与UNIX系统的文件目录结构相似.
- 查询字符串:针对已指定的文件路径内的资源，可以使用查询字符串传入任意参数。此项可选

